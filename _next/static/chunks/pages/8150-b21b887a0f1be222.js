"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8150],{60528:function(n,t,e){e.d(t,{X:function(){return a},_:function(){return u}});var o,i=e(81862),r=e(50853),u=function(n){return new Promise(function(t){return setTimeout(t,n)})},a=(o=(0,i._)(function(n){var t,e,o,i=arguments;return(0,r.Jh)(this,function(r){switch(r.label){case 0:t=i.length>1&&void 0!==i[1]?i[1]:250,e=i.length>2&&void 0!==i[2]?i[2]:null,o=0,r.label=1;case 1:if(!(!n()&&(null===e||o<e)))return[3,3];return[4,u(t)];case 2:return r.sent(),o+=t,[3,1];case 3:return[2]}})}),function(n){return o.apply(this,arguments)})},50088:function(n,t,e){e.d(t,{Bz:function(){return v},CX:function(){return N},F2:function(){return m},SW:function(){return d},VF:function(){return s},cd:function(){return p},dZ:function(){return b},ii:function(){return T},jW:function(){return h},nf:function(){return f},xB:function(){return y}});var o=e(26969),i=e(43526),r=e(6364),u=e(16478),a=e(21119),l=e(46530),c=e(44221),d=function(n){var t=document.createElement("textarea");return t.textContent=n,t.innerHTML},f=function(n){var t=[];return n&&n.forEach&&0!==n.length&&n.forEach(function(n){if(n.nodeType===Node.TEXT_NODE&&n.textContent)t.push([d(n.textContent)]);else if(n.nodeType===Node.ELEMENT_NODE&&(n.childNodes.length>0||"BR"===n.nodeName)){var e,o,i,r,u,a=[];switch(n.nodeName){case"B":a.push(["font-weight","bold"]);break;case"U":a.push(["text-decoration","underline"]);break;case"I":a.push(["font-style","italic"]);break;case"A":var l=n.href;((null==l?void 0:l.match(/^http(s)?:\/\//))||(null==l?void 0:l.match(/^mailto:/))||(null==l?void 0:l.match(/^tel:/))||(null==l?void 0:l.match(/^sms:/)))&&a.push(["href",l]);break;case"FONT":var c=n.color;(null==c?void 0:c.match(/#[0-9a-fA-F]{3,6}/))&&a.push(["color",c]);break;case"DIV":a.push(["tag","div"]);break;case"P":a.push(["tag","p"]);break;case"BR":a.push(["tag","br"]);break;case"SPAN":a.push(["tag","span"])}var s=n.style;if(((null==s?void 0:null===(e=s.color)||void 0===e?void 0:e.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(o=s.color)||void 0===o?void 0:o.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.color)==="inherit")&&a.push(["color",s.color]),((null==s?void 0:null===(i=s.backgroundColor)||void 0===i?void 0:i.match(/#[0-9a-fA-F]{3,6}/))||(null==s?void 0:null===(r=s.backgroundColor)||void 0===r?void 0:r.match(/rgb\([0-9]{1,3}, [0-9]{1,3}, [0-9]{1,3}\)/))||(null==s?void 0:s.backgroundColor)==="inherit")&&a.push(["background-color",s.backgroundColor]),null==s?void 0:s.fontWeight){var h=null==s?void 0:s.fontWeight;["bolder","lighter"].includes(h)&&(h="bold"),a.push(["font-weight",h])}(null==s?void 0:s.fontStyle)&&a.push(["font-style",s.fontStyle]),(null==s?void 0:s.textDecoration)&&a.push(["text-decoration",s.textDecoration]),(null==s?void 0:s.display)&&a.push(["display",s.display]),"SPAN"===n.nodeName&&(null===(u=n.className)||void 0===u?void 0:u.indexOf("mention"))!==-1&&a.push(["mention",n.dataset.uuid]),a.length>0&&(1===n.childNodes.length&&n.childNodes[0].nodeType===Node.TEXT_NODE&&n.childNodes[0].textContent?t.push([d(n.childNodes[0].textContent),a]):"BR"===n.nodeName?t.push(["",a]):t.push([f(n.childNodes),a]))}}),t},s=function(n,t,e){return n&&0!==n.length&&0!==t.length?n.map(function(n){var i=(0,o._)(n,2),r=i[0],u=i[1],a=!1,l=null==u?void 0:u.filter(function(n){var i=(0,o._)(n,2),r=i[0],u=i[1];if("mention"===r){var l=t.find(function(n){return n.uuid===u});if(!l||void 0===e.find(function(n){return n.uuid===l.field.uuid}))return a=!0,!1}return!0});return a?["",l]:["string"==typeof r?r:s(r,t,e),u]}):n},h=function(n){var t=document.createElement("div");return t.innerHTML=n,(0,i.Du)(f(t.childNodes))},m=function(n,t,e,o){if("undefined"==typeof document)return"";var r=(0,i.Du)(n.safeHTMLSchema);r=r.replace(/\u200B/g,"");var a=document.createElement("div");a.innerHTML=r;var l=!0,d=!1,f=void 0;try{for(var s,h=n.mentions[Symbol.iterator]();!(l=(s=h.next()).done);l=!0)!function(){var n,r,l=s.value,d=l.uuid,f=l.field,h=l.defaultValue,m=a.querySelectorAll('[data-uuid="'.concat(d,'"]'));if(0!==m.length){var v=f.uuid,p=f.type,b=f.questionType,y=f.blockGroupUuid,N=f.calculatedFieldType,T="";p===i.fS.Metadata?T=o[v]:p===i.fS.InputField&&b&&y?T=b===i.kH.InputDate?null!==(n=e[y])&&void 0!==n?n:"":(0,c.Ee)(b,e[y],t):[i.fS.CalculatedField,i.fS.HiddenField].includes(p)&&v&&y&&(T=e[y]?e[y][v]:""),p===i.fS.CalculatedField&&N===i.ot.Number&&"number"==typeof T&&(T=(0,i.AK)(T,2)),f.questionType===i.kH.Matrix&&(T=(null!==(r=e[f.blockGroupUuid][f.uuid])&&void 0!==r?r:[]).map(function(n){return(0,u.u)(n,t)}).join(",")),(a.textContent.startsWith("http")||a.textContent.startsWith("www."))&&!("string"==typeof T&&-1!==T.indexOf("/"))&&(T=encodeURIComponent(T)),m.forEach(function(n){n.innerHTML=(null==T?void 0:T.toString())||h||""})}}()}catch(n){d=!0,f=n}finally{try{l||null==h.return||h.return()}finally{if(d)throw f}}return(0,i.A9)(a.textContent,!0)},v=function(n){return!(n&&Array.isArray(null==n?void 0:n.safeHTMLSchema))||0===(0,i.Vt)((0,i.Du)(n.safeHTMLSchema)).length},p=function(){var n=document.createElement("div");return n.innerHTML="Tally Forms",{safeHTMLSchema:f(n.childNodes),mentions:[]}},b=function(n){var t=g("Form name",(0,l.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),e=t.mentionObj,o=t.mentionHtml,i=document.createElement("div");return i.innerHTML="New Tally Form Submission for ".concat(o),{safeHTMLSchema:f(i.childNodes),mentions:[e]}},y=function(n){var t=[],e=(0,l.VN)(n),o="",i=!0,r=!1,u=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var d=a.value,s=g(d.title,d),h=s.mentionObj,m=s.mentionHtml;o+="<div><b>".concat(d.title,"</b></div><div>").concat(m,"</div><br/>"),t.push(h)}}catch(n){r=!0,u=n}finally{try{i||null==c.return||c.return()}finally{if(r)throw u}}var v=document.createElement("div");return v.innerHTML=o,{safeHTMLSchema:f(v.childNodes),mentions:t}},N=function(n){var t=[],e="",o=g("Form name",(0,l.VN)(n,{includeMetadata:!0}).find(function(n){return"formName"===n.uuid})),i=o.mentionObj,r=o.mentionHtml;e+="<div>New submission for *".concat(r,"*.</div><br/>"),t.push(i);var u=!0,a=!1,c=void 0;try{for(var d,s=(0,l.VN)(n)[Symbol.iterator]();!(u=(d=s.next()).done);u=!0){var h=d.value,m=g(h.title,h),v=m.mentionObj,p=m.mentionHtml;e+="<div>*".concat(h.title,"*: ").concat(p,"</div>"),t.push(v)}}catch(n){a=!0,c=n}finally{try{u||null==s.return||s.return()}finally{if(a)throw c}}var b=document.createElement("div");return b.innerHTML=e,{safeHTMLSchema:f(b.childNodes),mentions:t}},T=function(n){var t=g(n.title,n),e=t.mentionObj,o=t.mentionHtml,i=document.createElement("div");return i.innerHTML=o,{safeHTMLSchema:f(i.childNodes),mentions:[e]}},g=function(n,t){var e=(0,r.Z)();return{mentionObj:{uuid:e,field:t},mentionHtml:'<span class="mention" contenteditable="false" data-uuid="'.concat(e,'">@').concat(n,"</span>").concat((0,a.G6)()?"â€‹":"")}}}}]);